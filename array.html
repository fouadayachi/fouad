<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="football.css">
    <title>Document</title>
</head>

<body>
    <div class="container">
        <div class="goal">
            <div class="inside_goal"></div>
            <div class="circle"></div>
            <div class="hide-circle"></div>
        </div>
        <div class="start-circle">
            <div class="circle_debut"></div>
            <div class="circle_debut1"></div>
        </div>
        <div class="lineup" id="line_up">

            <div class="playerInformation" id="player1">
                <div class="picture">
                    <span class="change"><img src="substitution.png" alt=""></span>
                    <img src="player.png" class="players" alt="player" draggable="true">
                </div>
                <div class="name"><span class="number">1</span>GARDIA</div>
            </div>

            <div class="playerInformation" id="player2">
                <div class="picture">
                    <span class="change"><img src="substitution.png" alt=""></span>
                    <img src="player.png" class="players" alt="player" draggable="true">
                </div>
                <div class="name"><span class="number">2</span>Azouz</div>
            </div>
            <div class="playerInformation" id="player3">
                <div class="picture">
                    <span class="change"><img src="substitution.png" alt=""></span>
                    <img src="player.png" class="players" alt="player" draggable="true">
                </div>
                <div class="name"><span class="number">5</span>Samir</div>
            </div>
            <div class="playerInformation" id="player4">
                <div class="picture">
                    <span class="change"><img src="substitution.png" alt=""></span>
                    <img src="fouad.jpg" alt="player" draggable="true" class="normal players">
                </div>
                <div class="name"><span class="number">3</span>A.Fouad</div>
            </div>

            <div class="playerInformation" id="player5">
                <div class="picture">
                    <span class="change"><img src="substitution.png" alt=""></span>
                    <img src="abdellah1.jpg" alt="player" draggable="true" class="abdo players">
                </div>
                <div class="name"><span class="number">10</span>Abedllah <span class="cap">C</span></div>
            </div>

            <div class="playerInformation" id="player7">
                <div class="picture">
                    <span class="change"><img src="substitution.png" alt=""></span>
                    <img src="player.png" class="players" alt="player" draggable="true">
                </div>
                <div class="name"><span class="number">11</span>Sidahmed</div>
            </div>
            <div class="playerInformation" id="player6">
                <div class="picture">
                    <span class="change"><img src="substitution.png" alt=""></span>
                    <img src="player.png" class="players" alt="player" draggable="true">
                </div>
                <div class="name"><span class="number">6</span>Youcef</div>
            </div>

        </div>
    </div>
    <div class="formation">
        <select name="choices" id="choices">
            <option value="3-1-2">3-1-2</option>
            <option value="2-2-2">2-2-2</option>
            <option value="3-2-1">3-2-1</option>
            <option value="2-1-3">2-1-3</option>
        </select>
    </div>
   
    <div class="bench">
        <h3>bench : </h3>
        <div class="bench-players">
            <div class="playerInformation" id="player8">
                <div class="picture">
                    <span class="change"><img src="substitution.png" alt=""></span>
                    <img src="player.png" class="players" alt="player" draggable="true">
                </div>
                <div class="name"><span class="number">7</span>D.Mohammed</div>
            </div>
            <div class="playerInformation" id="player9">
                <div class="picture">
                    <span class="change"><img src="substitution.png" alt=""></span>
                    <img src="player.png" class="players" alt="player" draggable="true">
                </div>
                <div class="name"><span class="number">8</span>Mohammed</div>
            </div>
            <div class="playerInformation" id="player10">
                <div class="picture">
                    <span class="change"><img src="substitution.png" alt=""></span>
                    <img src="player.png" class="players" alt="player" draggable="true">
                </div>
                <div class="name"><span class="number">14</span>Zaki</div>
            </div>
            <div class="playerInformation" id="player11">
                <div class="picture">
                    <span class="change"><img src="substitution.png" alt=""></span>
                    <img src="player.png" class="players" alt="player" draggable="true">
                </div>
                <div class="name"><span class="number">9</span>F.FOUAD</div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-beta4/html2canvas.min.js"></script>
    <script>
let playerImages = document.querySelectorAll('.players');
let selectedPlayerImage = null;

playerImages.forEach(playerImage => {
    playerImage.addEventListener('click', () => {
        if (selectedPlayerImage === null) {
            selectedPlayerImage = playerImage;
            playerImage.classList.add('selected');
            addGreenBorderToOthers(selectedPlayerImage);
        } else {
            let playerInfo1 = selectedPlayerImage.parentElement.parentElement;
            let playerInfo2 = playerImage.parentElement.parentElement;
            swapPlayerInfo(playerInfo1, playerInfo2);
            removeGreenBorderFromOthers();
            selectedPlayerImage.classList.remove('selected');
            selectedPlayerImage = null;
        }
    });
});

function addGreenBorderToOthers(selectedPlayerImage) {
    playerImages.forEach(playerImage => {
        if (playerImage !== selectedPlayerImage) {
            playerImage.classList.add('other-players');
        }
    });
}

function removeGreenBorderFromOthers() {
    playerImages.forEach(playerImage => {
        playerImage.classList.remove('other-players');
    });
}

function swapPlayerInfo(player1, player2) {
    // Swap player images
    let player1Image = player1.querySelector('.players').src;
    let player2Image = player2.querySelector('.players').src;
    player1.querySelector('.players').src = player2Image;
    player2.querySelector('.players').src = player1Image;

    // Swap player names and numbers
    let player1Name = player1.querySelector('.name').innerHTML;
    let player2Name = player2.querySelector('.name').innerHTML;
    player1.querySelector('.name').innerHTML = player2Name;
    player2.querySelector('.name').innerHTML = player1Name;
}
        const list = document.getElementById("choices");
        const player2 = document.getElementById("player2");
        const player3 = document.getElementById("player3");
        const player4 = document.getElementById("player4");
        const player5 = document.getElementById("player5");
        const player6 = document.getElementById("player6");
        const player7 = document.getElementById("player7");
        const line = document.getElementById("line_up");
        list.addEventListener("change",applycss);
        function applycss(){
            let selectedElement = list.value;
            if(selectedElement === "3-2-1"){
                line.style.gridTemplateAreas = 
                `"player1 player1 player1"
                "player2 player3 player4"
                "player5 . player6"
                "player7 player7 player7"`;
                player6.style.justifySelf = "center";
                player7.style.justifySelf = "start";
                player5.style.justifySelf = "end";
            }
            else if(selectedElement === "3-1-2"){
                line.style.gridTemplateAreas = `
                "player1 player1 player1"
                "player2 player3 player4"
                "player5 player5 player5"
                "player6 . player7"`
                player6.style.justifySelf = "start";
                player7.style.justifySelf = "end";
                player5.style.justifySelf = "center";
            }
            else if(selectedElement === "2-2-2"){
                line.style.gridTemplateAreas = `
                "player1 player1 player1"
                "player2 . player4"
                "player3 . player5"
                "player6 . player7"`;
                player6.style.justifySelf = "center";
                player7.style.justifySelf = "center";
            }
            else if(selectedElement === "2-1-3"){
                line.style.gridTemplateAreas = `
                "player1 player1 player1"
                "player2 . player4"
                "player3 player3 player3"
                "player6 player5 player7"`;
                player6.style.justifySelf = "center";
                player7.style.justifySelf = "center";
            }
        }
         
    </script>
</body>

</html>
